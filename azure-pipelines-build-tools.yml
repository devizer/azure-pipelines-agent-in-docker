trigger:
  branches:
    include:
    - master
  paths:
    include:
    - 'build-tools/*'

jobs:
- job: Build
  pool:
    vmImage: 'ubuntu-18.04'
  timeoutInMinutes: 180

  steps:
  - script: |
      cd build-tools
      bash -e Build-and-Deploy-Git.sh
    displayName: 'build'

  - task: PublishBuildArtifacts@1
    condition: succeededOrFailed()
    displayName: 'GCC @ Publish'
    inputs:
      pathtoPublish: '$(System.ARTIFACTSDIRECTORY)'
      artifactName: 'Deploy-it-by-$(Agent.JobName)'
